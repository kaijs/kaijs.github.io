define("cutil/c.util.hybrid",[],function(){"use strict";window.resolveLocalFileSystemURL=window.resolveLocalFileSystemURL||window.webkitResolveLocalFileSystemURL;var o={};return o.updateAPK=function(o){var o=o||{};return"undefined"==typeof cordova?(Kai.showToast("当前不是app环境"),!1):cordova.file?void window.resolveLocalFileSystemURL(cordova.file.externalRootDirectory,function(e){e.getDirectory(o.apkDirectory,{create:!0,exclusive:!1},function(e){var t,n=new FileTransfer,i=encodeURI(o.apkDownloadURL);n.onprogress=function(o){t=Math.round(o.loaded/o.total*100)};for(var a=0;1e3>a;a++)_.delay(function(){Kai.showConfirm({datamodel:{title:"版本升级进度",content:(t||0)+"%",btns:[]}})},500*a);n.download(i,e.toInternalURL()+o.apkName+".apk",function(o){cordova.plugins.fileOpener2.open(o.toInternalURL(),"application/vnd.android.package-archive",{error:function(o){},success:function(){}})},function(o){Kai.showToast({text:JSON.stringify(o)})},!0)},function(){Kai.showToast({text:"升级失败－－创建安装包目录失败"})})}):(Kai.showToast("当前环境不支持升级"),!1)},o.removeFiles=function(o){var o=o||{};return"undefined"==typeof cordova?(Kai.showToast("当前不是app环境"),!1):cordova.file?void window.resolveLocalFileSystemURL(cordova.file.externalRootDirectory,function(e){e.getDirectory(o.directory,{create:!0,exclusive:!1},function(o){o.removeRecursively(function(){},function(){})},function(){Kai.showToast({text:"升级失败－－创建安装包目录失败"})})}):(Kai.showToast("当前环境不支持升级"),!1)},o});