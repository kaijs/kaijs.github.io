define("dojo/text",["./_base/kernel","require","./has","./request","dojo/_base/config"],function(e,c,n,r,a){var t;t=function(e,c,n){r(e,{sync:!!c,headers:{"X-Requested-With":null}}).then(n)};var i={},l=function(e){if(e){e=e.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var c=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(e=c[1])}else e="";return e},u={},s={};return e.cache=function(e,n,r){var a;"string"==typeof e?/\//.test(e)?(a=e,r=n):a=c.toUrl(e.replace(/\./g,"/")+(n?"/"+n:"")):(a=e+"",r=n);var u=void 0!=r&&"string"!=typeof r?r.value:r,s=r&&r.sanitize;return"string"==typeof u?(i[a]=u,s?l(u):u):null===u?(delete i[a],null):(a in i||t(a,!0,function(e){i[a]=e}),s?l(i[a]):i[a])},{dynamic:!0,normalize:function(e,c){var n=e.split("!"),r=n[0];return(/^\./.test(r)?c(r):r)+(n[1]?"!"+n[1]:"")},load:function(e,c,n){var r=e.split("!"),o=r.length>1,h=r[0],f=c.toUrl(r[0]),d="url:"+f,p="url:"+f.replace(new RegExp("^"+a.baseUrl),"/"),v="url:"+function(e){return e.indexOf(a.baseUrl)<0?(a.baseUrl+e).replace("//","/"):e}(f),g="url:"+function(e){return e.replace(/(.)\/\w+/,"$1")}(f),y=v.replace("url:.","url:.."),b=u,m=function(e){n(o?l(e):e)};if(h in i?b=i[h]:c.cache&&h in c.cache?b=c.cache[h]:c.cache&&d in c.cache?b=c.cache[d]:c.cache&&p in c.cache?b=c.cache[p]:c.cache&&v in c.cache?b=c.cache[v]:c.cache&&g in c.cache?b=c.cache[g]:c.cache&&y in c.cache?b=c.cache[y]:f in i&&(b=i[f]),b===u)if(s[f])s[f].push(m);else{var U=s[f]=[m];t(f,!c.async,function(e){i[h]=i[f]=e;for(var c=0;c<U.length;)U[c++](e);delete s[f]})}else m(b)}}});